<div class="d-sm-flex align-items-center justify-content-between mb-4">
	<h1 class="h3 mb-0 text-gray-800">My documents</h1>
</div>
<div class="row justify-content-center" >
	<div class="col-xl-12 col-lg-12 col-md-12 col-xs-12">
		<div *ngIf="globalError" class="alert alert-danger">{{globalError}}</div>
		<div *ngIf="globalInfo" class="alert alert-success">{{globalInfo}}</div>	
		<div class="row mb-2">
			<!-- Progress Bar -->
			<div class="progress" *ngIf="progress > 0">
				<div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" [style.width.%]="progress"></div>
			</div>
		</div>
		<div class="row  mb-2">
			<div class="btn-group">
				<div class="btn-group-prepend">
				  <div class="input-file-text" readonly (click)="fileInput.click()"><strong *ngIf="file">{{ file.name }}</strong></div>
				</div>
				<button type="button" class="btn btn-primary btn-icon-split" (click)="fileInput.click()">
					<span class="icon text-white-50">
						<i class="fas fa-file-import"></i>
					</span>
					<span class="text"> Add file</span>
				</button>
				<button *ngIf="file!=null" type="button" class="btn btn-primary btn-icon-split" (click)="uploadFile()" [disabled]="progress>0">
					<span class="icon text-white-50">
						<i class="fas fa-upload"></i>
					</span>
					<span class="text"> Upload</span>
				</button>
			</div>
			
			<div style="visibility: hidden; position: absolute; overflow: hidden; width: 0px; height:0px;border:none;margin:0; padding:0">
				<input type="file" (change)="selectFile($event)" #fileInput>
			</div>
			
		</div>
	</div>
	<div class="col-xl-4 col-lg-4 col-md-6 col-xs-12">
		
		<div class="row">
		<table>
			<tr *ngFor="let doc of documents; let i = index">
				<td><b>{{doc.name}}</b><br/>
					{{doc.description}}
				</td>
				<td>	
					<button type="button" class="btn btn-primary btn-circle" (click)="loadAdaptedHtml(doc.accessToken)">
						<i class="fas fa-book-reader"></i>
					</button>
				</td><td>	
					<a class="btn btn-primary btn-circle" [href]="getAdaptedDocxUrl(doc.accessToken)" target="_blank">
						<i class="fas fa-file-word"></i>
					</a>
				</td><td>	
					<button type="button" class="btn btn-secondary btn-circle" (click)="loadHtml(doc.accessToken)">
						<i class="fas fa-book-reader"></i>
					</button>
				</td><td>	
					<a class="btn btn-secondary btn-circle" [href]="getDocxUrl(doc.accessToken)" target="_blank">
						<i class="fas fa-file-word"></i>
					</a>
				</td>
			</tr>
		</table>
		</div>
	</div>
	<div class="col-xl-8 col-lg-8 col-md-6 col-xs-12">
		<div *ngIf="frameSrc" [ngClass]="readerExpanded?'reader expanded':'reader'">
			<a class="btn btn-primary btn-circle" (click)="expandReader()" [ngClass]="readerExpanded?'hidden':'visible'">
				<i class="fas fa-expand"></i>
			</a>
			<a class="btn btn-secondary btn-circle" (click)="reduceReader()" [ngClass]="readerExpanded?'visible':'hidden'">
				<i class="fas fa-times"></i>
			</a>
			<iframe [src]="frameSrc" class="onlinereading"></iframe>
		</div>
	</div>
</div>